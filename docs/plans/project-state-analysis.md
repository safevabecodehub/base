# Анализ текущего состояния проекта SafeVibe

**Дата:** 18.11.2025
**Статус:** MVP / Активная разработка
**Технологический стек:** Docusaurus v3, React, TypeScript, GitHub Actions

---

## 1. Архитектура и Инфраструктура

### Репозиторий и Деплой
- **Структура:** Монорепозиторий. Исходный код сайта находится в папке `site/`, документация по проекту и планы — в `docs/plans/`.
- **CI/CD:** Настроен GitHub Actions workflow (`deploy-docusaurus.yml`), который автоматически собирает и деплоит сайт в ветку `gh-pages` при пуше в `main`.
- **Хостинг:** GitHub Pages.

### Контентная стратегия
- **Принцип:** "Auto-discovery". Компоненты сайта автоматически находят и отображают контент на основе метаданных (Front Matter), минимизируя ручное ведение реестров.
- **Таксономия:**
  - **Категории:** Concepts, Tools, Workflows, Apps, Community, Meta.
  - **Метаданные:** `title`, `description`, `tags`, `status` (draft/stable), `type` (guide/review/reference).

---

## 2. Реализованный функционал (Features)

### Динамический Хаб Инструментов (`/docs/tools`)
Это наиболее проработанный раздел, служащий эталоном для остальных.
1.  **Компонент `ToolsHub`:**
    - Отображает плитки подразделов (IDE, CLI, LLM, MCP, Сервисы).
    - Карточки полностью кликабельны, имеют визуальное отличие (светло-серый фон) от карточек контента.
2.  **Компонент `ToolsList`:**
    - **Автоматическая подгрузка:** Использует `useAllDocsData` для получения списка всех документов в `tools/*`.
    - **Умная фильтрация:** Исключает хабовые страницы (`type: reference`), оставляя только полезные заметки.
    - **Определение категорий:** Умеет определять категорию инструмента как из поля `category`, так и из тегов.
    - **Toolbar:** Единая панель управления с фильтрами (Категория, Тег), Поиском (live search) и Сортировкой.
    - **Режимы просмотра:** Переключение между "Плиткой" (Grid) и "Таблицей" (Table).

### UI/UX Кастомизация
- **Стилизация:** Внедрен `custom.css` для улучшения стандартного вида Docusaurus (Infima).
- **Карточки:**
  - Уменьшены заголовки для снижения визуального шума.
  - Убран статус "Draft" из плиточного вида (оставлен во внутренней логике).
  - Реализована система **Бэджей** (Badges) для категорий (выделены цветом) и тегов (нейтральные).
- **Сайдбар:**
  - Реализован "Hidden Category Hack": создана скрытая категория "Инструменты (все)", чтобы при переходе внутрь заметки левое меню не сворачивалось, но при этом не засоряло визуальное дерево лишними ссылками.
  - Ручная настройка верхнеуровневых пунктов для чистоты навигации.

---

## 3. Текущий контент

### Раздел Tools (Инструменты)
- **IDE:** Заполнен черновыми заметками с реальными метаданными:
  - Cursor
  - Windsurf
  - Zed
  - VS Code
  - WebStorm
- **Обзор:** Есть вводная статья по базовому стеку.

### Другие разделы
- **Concepts, Workflows, Community:** Созданы базовые заглушки (stubs) и структура папок.
- **Intro:** Главная страница документации пока содержит стандартный текст (требует рефакторинга).

---

## 4. Технический долг и Известные проблемы

1.  **Типизация:** В `ToolsList.tsx` используется приведение типов (`as any`) для обхода строгой типизации плагина Docusaurus при доступе к `frontMatter`. Это безопасно для рантайма, но требует рефакторинга в будущем (расширение типов docusaurus).
2.  **Мобильная версия:** Toolbar в `ToolsList` оптимизирован для десктопа (в одну строку). Требуется проверка и адаптация CSS для мобильных устройств (`media queries`).
3.  **Главная страница (`/`):** Содержит временные карточки. Требует переработки под брендинг SafeVibe.

---

## 5. План развития (Next Steps)

1.  **Рефакторинг Intro:**
    - Превратить `intro.md` в `About`.
    - Сделать главную страницу документации динамическим хабом (аналог `ToolsHub`, но глобальный).
2.  **Масштабирование движка:**
    - Применить компонент `ToolsList` (или создать универсальный `GlobalDocsList`) для разделов *Workflows* и *Concepts*.
3.  **Наполнение контентом:**
    - Написать полноценные обзоры для IDE (сейчас там заглушки).
    - Заполнить раздел CLI и LLM.
4.  **Мини-аппы:**
    - Проработать интеграцию React-приложений (shadcn/ui) внутри MDX страниц.
